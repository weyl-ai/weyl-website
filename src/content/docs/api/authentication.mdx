---
title: Authentication
description: API key management and security
category: api
---

All API requests require authentication using Bearer tokens.

## Getting API Keys
1. Sign up at [console.weyl.ai](https://console.weyl.ai)
2. Navigate to API Keys
3. Generate a new key
4. Store securely (won't be shown again)

## Using API KeysInclude your key in the `Authorization` header:

```bashAuthorization: Bearer wyl_sk_1234567890abcdef

```

## Key Types#

## Development Keys

- Prefix: `wyl_sk_dev_`

- Rate limit: 100 requests/minute

- Free tier included

- Use for testing and development#

## Production Keys

- Prefix: `wyl_sk_prod_`

- Rate limit: Custom (based on plan)

- Requires paid plan

- Use for production workloads

## Security Best Practices#

## Environment Variables**Never hardcode API keys.*

* Use environment variables:

```bashWEYL_API_KEY=wyl_sk_prod_1234567890abcdef

``````pythonimport osapi_key = os.environ['WEYL_API_KEY']

```#

## Key RotationRotate keys regularly for security:
1. Generate new key in console
2. Update all applications
3. Verify new key works
4. Revoke old key#

## Key ScopingEach key can be scoped to specific:

- Models (flux only, wan only, etc)

- Rate limits

- IP ranges

- Endpoints (sync only, async only)Configure scopes in the console to limit blast radius.

## Rate LimitsRate limits are enforced per API key:

| Plan       | Requests/Min | Burst | Monthly Credits ||------------|-------------|-------|-----------------|| Free       | 100         | 20    | 1,000 requests  || Starter    | 1,000       | 200   | 10,000 requests || Pro        | 10,000      | 2,000 | 100,000 requests|| Enterprise | Custom      | Custom| Custom          |When rate limited, you'll receive a `429` response with `Retry-After` header.

## Error Codes

| Code | Description                      | Action                        ||------|----------------------------------|-------------------------------|| 401  | Invalid or missing API key       | Check Authorization header    || 403  | Key lacks required permissions   | Check key scopes in console   || 429  | Rate limit exceeded              | Wait for Retry-After seconds  |

## Headers#

## Request Headers

```bashAuthorization: Bearer wyl_sk_...Content-Type: application/jsonX-Idempotency-Key: optional_dedup_key  # for async tier

```#

## Response Headers

```bashX-Weyl-Request-Id: req_abc123xyzX-RateLimit-Remaining: 9950X-RateLimit-Reset: 1699564800

```

## Webhook SecurityFor async tier webhook callbacks, verify authenticity:
1. We send `X-Weyl-Signature` header with HMAC
2. Compute HMAC of body with your webhook secret
3. Compare signatures

```pythonimport hmacimport hashlibdef verify_webhook(body: bytes, signature: str, secret: str) -> bool:    expected = hmac.new(        secret.encode(),        body,        hashlib.sha256    ).hexdigest()    return hmac.compare_digest(signature, expected)

```

## Testing Authentication

```bashcurl https://sync.render.weyl.ai/image/flux/schnell/t2i?format=512 \  -H "Authorization: Bearer $WEYL_API_KEY" \  -H "Content-Type: application/json" \  -d '{"prompt":"test"}' \  -o test.webp

```Success: 200 with image bytes. Failure: 401 with error JSON.